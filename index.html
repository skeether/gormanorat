<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Видео — подтверждение</title>
  <style>
    :root{
      --bg:#000000;
      --fg:#ffffff;
      --accent:#e11d48; /* красный для "привет" */
      --button-bg: rgba(255,255,255,0.08);
      --button-border: rgba(255,255,255,0.12);
    }
    html,body{height:100%;}
    body{
      margin:0;
      background:var(--bg);
      color:var(--fg);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* Полноэкранный модальный блок подтверждения */
    .modal{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background:var(--bg);
      z-index:9999;
      flex-direction:column;
      gap:40px;
      padding:3rem;
      box-sizing:border-box;
      transition:opacity .35s ease, transform .35s ease;
    }

    .title{
      font-size:clamp(28px, 6vw, 84px);
      line-height:1;
      font-weight:800;
      text-transform:uppercase;
      text-align:center;
      letter-spacing:0.02em;
      margin:0;
      color:var(--fg);
    }

    .controls{
      display:flex;
      gap:20px;
      align-items:center;
      justify-content:center;
      flex-wrap:wrap;
    }

    .btn{
      min-width:120px;
      padding:14px 22px;
      background:var(--button-bg);
      border:1px solid var(--button-border);
      color:var(--fg);
      font-weight:700;
      text-transform:uppercase;
      letter-spacing:0.06em;
      cursor:pointer;
      border-radius:10px;
      font-size:16px;
      backdrop-filter: blur(6px);
      transition:transform .12s ease, background .12s ease, opacity .12s ease;
    }
    .btn:active{transform:translateY(1px) scale(.995);} 
    .btn-yes{
      background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
      border-color:rgba(255,255,255,0.18);
    }
    .btn-no{
      background:transparent;
      border-color:rgba(255,255,255,0.08);
    }

    /* Секция с видео (изначально скрыта) */
    .video-wrap{
      width:100%;
      max-width:1100px;
      margin:0 auto;
      display:none; /* показываем после нажатия "да" */
      align-items:center;
      justify-content:center;
      height:100vh;
      box-sizing:border-box;
      padding:20px;
    }
    video{
      width:100%;
      height:auto;
      max-height:90vh;
      background: #000;
      border-radius:12px;
      outline: none;
    }

    /* Надпись "привет" (полноэкранная красная) */
    .denied{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background:var(--bg);
      z-index:10000;
      color:var(--accent);
      font-weight:900;
      text-transform:lowercase; /* пользователь просил именно "привет" в нижнем регистре */
      font-size:clamp(40px, 10vw, 160px);
      letter-spacing:0.02em;
      visibility:hidden;
      opacity:0;
      transition:opacity .2s ease;
    }
    .denied.show{visibility:visible; opacity:1;}

    /* Небольшая подсказка (доступность) */
    .sr-only{position:absolute; left:-10000px; width:1px; height:1px; overflow:hidden;}

    @media (max-width:520px){
      .controls{gap:12px}
      .btn{padding:12px 16px; font-size:14px}
    }
  </style>
</head>
<body>

  <!-- Модальное подтверждение при загрузке -->
  <div id="consentModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="consentTitle">
    <h1 id="consentTitle" class="title">Вы действительно хотите посмотреть это видео?</h1>

    <div class="controls" role="group" aria-label="Выбор">
      <button id="yesBtn" class="btn btn-yes">да</button>
      <button id="noBtn" class="btn btn-no">нет</button>
    </div>

    <p class="sr-only" id="hint">Нажмите 'да' чтобы начать, 'нет' — чтобы увидеть сообщение.</p>
  </div>

  <!-- Контейнер для видео — по умолчанию скрыт -->
  <div class="video-wrap" id="videoWrap" aria-hidden="true">
    <video id="mainVideo" controls preload="metadata">
      <source src="video.mp4" type="video/mp4">
      Ваш браузер не поддерживает элемент <code>video</code>.
    </video>
  </div>

  <!-- Полноэкранная надпись "привет" -->
  <div id="deniedScreen" class="denied" role="alert" aria-hidden="true">привет</div>

  <script>
    (function(){
      const consentModal = document.getElementById('consentModal');
      const yesBtn = document.getElementById('yesBtn');
      const noBtn = document.getElementById('noBtn');
      const videoWrap = document.getElementById('videoWrap');
      const mainVideo = document.getElementById('mainVideo');
      const deniedScreen = document.getElementById('deniedScreen');

      // Фокусируем на кнопке "да" для удобства клавиатуры
      window.addEventListener('load', ()=>{
        yesBtn.focus();
      });

      yesBtn.addEventListener('click', async ()=>{
        // Скрываем модал и показываем видео
        consentModal.style.display = 'none';
        videoWrap.style.display = 'flex';
        videoWrap.setAttribute('aria-hidden','false');

        // Пытаемся запустить видео (пользовательское событие — обычно разрешено)
        try{
          await mainVideo.play();
        }catch(err){
          // Если воспроизведение заблокировано, оставляем controls — пользователь сможет нажать play
          console.warn('Autoplay blocked or error:', err);
        }
      });

      noBtn.addEventListener('click', ()=>{
        // Скрываем модал и показываем черный экран с красной надписью
        consentModal.style.display = 'none';
        deniedScreen.classList.add('show');
        deniedScreen.setAttribute('aria-hidden','false');
      });

      // Поддержка клавиш Enter/Escape для удобства
      document.addEventListener('keydown', (e)=>{
        if (consentModal.style.display !== 'none'){
          if (e.key === 'Enter') yesBtn.click();
          if (e.key === 'Escape') noBtn.click();
        }
      });

      // Простейшая проверка наличия файла — не гарантирует, но даст подсказку в консоли
      fetch('video.mp4', {method:'HEAD'})
        .then(res => {
          if (!res.ok) console.info('Видео video.mp4 не найдено на сервере (HTTP ' + res.status + '). Убедитесь, что файл в той же папке, что и этот HTML.');
        })
        .catch(()=>{
          console.info('Не удалось проверить наличие video.mp4 (возможно развернуто локально без сервера).');
        });

    })();
  </script>
</body>
</html>
